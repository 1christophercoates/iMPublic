<ng-container *ngIf="state$ | async as state">

  <ion-header>
    <ion-toolbar>
      <ion-title>
        Notification Digest
      </ion-title>
      <ion-buttons slot="end">
        <ion-button (click)="close()">
          <ion-icon slot="icon-only" name="close"></ion-icon>
        </ion-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>
  

  <ion-content>

    <div class="im-cont" >

      <div class="im-centered" *ngIf="digestPosts.length < 1">
        <div [style.display]="'grid'" [style.gap]="'0.1rem'">No Recent Notifications</div>
      </div>

        <im-block
            *ngFor="let post of digestPosts"
            imageSlot="left"
            [images]="selectPostImage(post.poi.imagesFilePaths)"
            style="cursor: pointer;"
            (click)="openPost(post)"
        >
            <div header class="im-primary-text notification-item">Notification Updates</div>
            <div body class="timeline-details">
                <div class="timeline-detail-item">
                <div *ngIf="filterOnDate(post.likes).length > 0">
                    There is/are {{filterOnDate(post.likes).length}} new like(s)
                </div>
                <div *ngIf="filterOnDate(post.likes).length == 0">
                    No new likes
                </div>
                </div>
                <div class="timeline-detail-item">
                <div *ngIf="filterOnDate(post.comments).length > 0">
                    There is/are {{filterOnDate(post.comments).length}} new comment(s)
                </div>
                <div *ngIf="filterOnDate(post.comments).length == 0">
                    No new comments
                </div>
                </div>
            </div>

        </im-block>

    </div>

  </ion-content>

</ng-container>